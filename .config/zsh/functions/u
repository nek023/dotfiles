#!/bin/zsh

if ! git rev-parse --is-inside-work-tree > /dev/null 2>&1; then
  echo "not a git repository" >&2
  return 1
fi

cd ./"$(git rev-parse --show-cdup)"

if [[ $# = 1 ]]; then
  cd "$1"
fi
